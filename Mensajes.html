<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="Css\mensajes.css"/>
        <title>Mensajes</title>
    </head>
    <body>
        <header>
            <a href="main.html">
                <div id="volver">
                    <svg width="100" height="50" viewBox="-4 0 110 45" xmlns="http://www.w3.org/2000/svg">
                        <line x1="70" y1="25" x2="30" y2="25" stroke="white" stroke-width="5" />
                        <line x1="30" y1="25" x2="45" y2="12" stroke="white" stroke-width="5" />
                        <line x1="30" y1="25" x2="45" y2="38" stroke="white" stroke-width="5" />
                    </svg>
                </div>
            </a>
            
        </header>
        <main>

            <h1 id="titulo">Mensajes:</h1>

            <input type="text" id="buscador" placeholder="Buscar mensaje..." onkeyup="buscarTexto()">

            <div>
            <h2 class="fecha">26 de Febrero</h2>
            <p>Buenos dias guapa</p>
            <p>Que te vaya muy bien hoy.</p>
            </div>

            <div>
            <h2 class="fecha">27 de Febrero</h2>
            <p>Buenos días solecito</p>
            <p>Recuerda iluminar el dia.</p>
            </div>

            <div>
            <h2 class="fecha">28 de Febrero</h2>
            <p>Buenos días pastelito</p>
            <p>Recuerda que los días pueden ser tan dulces como tu.</p>
            <p>Así que no te desanimess.</p>
            </div>

            <div>
            <h2 class="fecha">1 de Marzo</h2>
            <p>Buenos días azucarita</p>
            <p>Recuerda que al igual que la sal y el azúcar se ven iguales a primera vista, puede que sientas que un día empieza igual que otros que fueron malos, pero puede terminar siendo dulce y hermoso al final.</p>
            </div>

            <div>
            <h2 class="fecha">2 de Marzo</h2>
            <p>Buenos días vainillita</p>
            <p>Recuerda que al igual que el extracto de vainilla, incluso las pequeñas acciones pueden hacer cambios significativos en nuestro día.</p>
            </div>

            <div>
            <h2 class="fecha">3 de Marzo</h2>
            <p>Buenos días bollito de pan.</p>
            <p>No olvides que hasta algo tan simple como un pan calentito puede ser tan reconfortante y disfrutable.</p>
            </div>

            <div>
            <h2 class="fecha">4 de Marzo</h2>
            <p>Buenos días linda.</p>
            <p>No olvides que en este mundo hay gente que te quiere y te ama, gente que estaría dispuesta a dar casi todo por ti, solo para verte sonreír. Manténlos cerca tuyo.</p>
            </div>
        </main>
        
        <script>
            function buscarTexto() {
                let input = document.getElementById("buscador").value.toLowerCase();
                let bloques = document.querySelectorAll("main div");
        
                bloques.forEach(bloque => {
                    let mensajes = bloque.querySelectorAll("p, h2"); // Busca en párrafos y fechas
                    let encontrado = false;
        
                    mensajes.forEach(mensaje => {
                        if (mensaje.textContent.toLowerCase().includes(input)) {
                            encontrado = true;
                        }
                    });
        
                    // En lugar de display: none, usamos transform y overflow para evitar movimientos
                    if (encontrado) {
                        bloque.style.display = "flex";
                        bloque.style.flexDirection = "column";
                        bloque.style.height = "auto";
                        bloque.style.opacity = "1";
                        bloque.style.overflow = "visible";
                        bloque.style.transform = "scaleY(1)"; // Asegura que se muestre correctamente
                        bloque.style.transition = "opacity 0.3s ease, transform 0.3s ease";
                    } else {
                        bloque.style.height = "0";
                        bloque.style.opacity = "0";
                        bloque.style.overflow = "hidden";
                        bloque.style.transform = "scaleY(0)";
                        bloque.style.transition = "opacity 0.3s ease, transform 0.3s ease";
                    }
                });
            }
        </script>
        
    </body>
</html>